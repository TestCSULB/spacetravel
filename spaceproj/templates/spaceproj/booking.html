{% extends 'spaceproj/layout2.html' %} {% load static %} {% block content %}

<link rel="stylesheet" href="{% static 'css/booking.css' %}" />

<body onload="onLoaderFunc()">
  <div
    class="section login-register-section section-padding"
    id="registerFlight"
  >
    <div class="container">
      <!-- Login & Register Wrapper Start -->
      <div class="login-register-wrap">
        <div class="row gx-5">
          <div class="col-md-3"></div>
          <div class="col-md-6">
            <!-- Login & Register Box Start -->
            <!-- Section Title Start -->
            <div class="login-register-box">
              <div
                class="alert alert-primary alert-dismissible fade show"
                id="alert"
                role="alert"
              >
                Want to Check your Booked Flights?
                <span style="color: red; cursor: pointer" id="registerFlightbtn"
                  >Click here</span
                >
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="alert"
                  aria-label="Close"
                ></button>
              </div>
              <div class="section-title">
                <h2 class="title text-center">Book Your Flight</h2>
              </div>
              {% for msg in messages %}
              <div
                class="alert alert-primary alert-dismissible fade show"
                id="alert"
                role="alert"
              >
                {{msg}} >
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="alert"
                  aria-label="Close"
                ></button>
              </div>
              {% endfor %}

              <div class="login-register-form">
                <!-- <form class="form"> -->
                {% csrf_token %}
                <div class="single-form">
                  <input
                    type="number"
                    id="Numseats"
                    min="1"
                    class="form-control inputForm"
                    max="8"
                    required
                    placeholder="Select number of Seats *"
                  />
                  {% if check == False %}
                  <div class="form-btn">
                    <button class="btn" onclick="takeData()">
                      Start Selecting
                    </button>
                  </div>
                  {% else %}
                  <div class="form-btn">
                    <button class="btn">You have already book flight.</button>
                  </div>
                  {% endif %}
                  <div id="h1" class="hide">
                    <div>
                      <h4 class="text-center mt-5 mb-5">
                        Please Select your Seats
                      </h4>
                    </div>

                    <div class="text-center">
                      <div class="row">
                        <div class="col-md-2"></div>
                        <div class="col-md-4">
                          <div class="form-check">
                            {% if A1 == False %}
                            <input
                              class="seats"
                              type="checkbox"
                              id="inlineCheckboxA1"
                              value="A1"
                            />
                            {% else %}
                            <span class="smallBox redBox"></span>
                            {% endif %}
                            <label
                              class="form-check-label"
                              style="margin-left:15px"
                              >A1</label
                            >
                          </div>
                          <div class="form-check">
                            {% if A2 == False %}
                            <input
                              class="seats"
                              type="checkbox"
                              id="inlineCheckboxA2"
                              value="A2"
                            />
                            {% else %}
                            <span class="smallBox redBox"></span>
                            {% endif %}
                            <label
                            class="form-check-label"
                            style="margin-left:15px"
                            >A2</label
                          >
                          </div>
                          <div class="form-check">
                            {% if A3 == False %}
                            <input
                              class="seats"
                              type="checkbox"
                              id="inlineCheckboxA3"
                              value="A3"
                            />
                            {% else %}
                            <span class="smallBox redBox"></span>
                            {% endif %}
                            <label
                            class="form-check-label"
                            style="margin-left:15px"
                            >A3</label
                          >
                          </div>
                          <div class="form-check">
                            {% if A4 == False %}
                            <input
                              class="seats"
                              type="checkbox"
                              id="inlineCheckboxA4"
                              value="A4"
                            />
                            {% else %}
                            <span class="smallBox redBox"></span>
                            {% endif %}
                            <label
                            class="form-check-label"
                            style="margin-left:15px"
                            >A4</label
                          >
                          </div>
                          <div>
                            <!-- <label
                              class="form-check-label"
                              style="margin-left: 30px"
                              >A</label
                            > -->
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-check">
                            {% if B1 == False %}
                            <input
                              class="seats"
                              type="checkbox"
                              id="inlineCheckboxB1"
                              value="B1"
                            />
                            {% else %}
                            <span class="smallBox redBox"></span>
                            {% endif %}
                            <label
                            class="form-check-label"
                            style="margin-left:15px"
                            >B1</label
                          >
                          </div>
                          <div class="form-check">
                            {% if B2 == False %}
                            <input
                              class="seats"
                              type="checkbox"
                              id="inlineCheckboxB2"
                              value="B2"
                            />
                            {% else %}
                            <span class="smallBox redBox"></span>
                            {% endif %}
                            <label
                            class="form-check-label"
                            style="margin-left:15px"
                            >B2</label
                          >
                          </div>
                          <div class="form-check">
                            {% if B3 == False %}
                            <input
                              class="seats"
                              type="checkbox"
                              id="inlineCheckboxB3"
                              value="B3"
                            />
                            {% else %}
                            <span class="smallBox redBox"></span>
                            {% endif %}
                            <label
                            class="form-check-label"
                            style="margin-left:15px"
                            >B3</label
                          >
                          </div>
                          <div class="form-check">
                            {% if B4 == False %}
                            <input
                              class="seats"
                              type="checkbox"
                              id="inlineCheckboxB4"
                              value="B4"
                            />
                            {% else %}
                            <span class="smallBox redBox"></span>
                            {% endif %}
                            <label
                            class="form-check-label"
                            style="margin-left:15px"
                            >B4</label
                          >
                          </div>
                          <div>
                            <!-- <label
                              class="form-check-label"
                              style="margin-left: 30px"
                              >B</label
                            > -->
                          </div>
                        </div>
                        <div class="col-md-2"></div>
                      </div>
                    </div>
                    <div style="margin-left: 190px; margin-top: 15px">
                      <tr>
                        <td>
                          <div class="smallBox greenBox">Selected Seat</div>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <div class="smallBox redBox">Reserved Seat</div>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <div class="smallBox emptyBox">Empty Seat</div>
                          <br />
                        </td>
                      </tr>
                    </div>

                    <div class="form-btn">
                      <button class="btn" onclick="updateTextArea()">
                        Check your Selections
                      </button>
                    </div>
                  </div>
                </div>
                <form method="POST">
                  {% csrf_token %}

                  <div id="h2" class="hide">
                    <table>
                      <tbody>
                        <tr>
                          <th width="60%">Number of seats</th>
                          <td width="40%">
                            <div class="single-form">
                              <input type="hidden" id="i1" value="" name="i1" />
                              <input
                                class="form-control"
                                type="text"
                                id="NumberDisplay"
                                disabled
                              />
                            </div>
                          </td>
                        </tr>
                        <tr>
                          <th width="60%">Seat Name</th>
                          <td width="40%">
                            <div class="single-form">
                              <input type="hidden" id="i2" value="" name="i2" />

                              <input
                                class="form-control"
                                type="text"
                                id="seatsDisplay"
                                disabled
                              />
                            </div>
                          </td>
                        </tr>
                        <tr>
                          <th width="60%">Total price in USD</th>
                          <td width="40%">
                            <div class="single-form">
                              <input type="hidden" id="i3" value="" name="i3" />

                              <input
                                class="form-control"
                                type="text"
                                id="Price"
                                disabled
                              />
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <div class="form-btn">
                      <button class="btn" type="submit">Confirm Booking</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
            <!-- Login & Register Box End -->
          </div>
        </div>
      </div>
      <!-- Login & Register Wrapper End -->
    </div>
  </div>

  <div
    class="section login-register-section section-padding hide"
    id="viewFlight"
  >
    <div class="container">
      <!-- Login & Register Wrapper Start -->
      <div class="login-register-wrap">
        <div class="row gx-5">
          <div class="col-md-2"></div>
          <div class="col-md-8">
            <!-- Login & Register Box Start -->
            <!-- Section Title Start -->
            <div class="login-register-box">
              <div class="section-title">
                <div
                  class="alert alert-primary alert-dismissible fade show"
                  id="alert"
                  role="alert"
                >
                  Want to Book more Flights?
                  <span style="color: red; cursor: pointer" id="viewFlightbtn"
                    >Click here</span
                  >
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                    aria-label="Close"
                  ></button>
                </div>
                <h2 class="title text-center">Booked Flights</h2>
              </div>
              <div>
                {% for msg in messages %}
                <p class="single-form text-center fs-5 mt-2" style="color: red">
                  {{msg}}
                </p>
                {% endfor %}
              </div>

              <div class="login-register-form">
                <table class="table mt-4">
                  <tbody>
                    <tr>
                      <th width="60%">Number of seats</th>
                      <td width="40%">{{flight.TotalSeats}}</td>
                    </tr>
                    <tr>
                      <th width="60%">Seat Name</th>
                      <td width="40%">
                        {% for i in seats %} {{i.SeatName}} {% endfor %}
                      </td>
                    </tr>
                    <tr>
                      <th width="60%">Total price in USD</th>
                      <td width="40%">{{flight.TotalPrice}}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <div class="col-md-2"></div>
        </div>
      </div>
    </div>
  </div>
  {% endblock %}
</body>
